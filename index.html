<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Apocalypse</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-container">
        <canvas id="gameCanvas" aria-label="Pixel Apocalypse game canvas - Use WASD or arrow keys to move">
            Your browser does not support HTML5 Canvas. Please use a modern browser to play this game.
        </canvas>
        
        <!-- UI Overlays -->
        <div id="ui-overlay">
            <!-- Top UI -->
            <div id="top-ui">
                <div id="player-stats">
                    <div class="stat-row">
                        <label>HP:</label>
                        <div id="hp-bar-container" class="bar-container">
                            <div id="hp-bar" class="bar"></div>
                            <span id="hp-text" class="bar-text">100/100</span>
                        </div>
                    </div>
                    <div class="stat-row">
                        <label>„É¨„Éô„É´ <span id="level">1</span></label>
                        <div id="xp-bar-container" class="bar-container">
                            <div id="xp-bar" class="bar xp"></div>
                            <span id="xp-text" class="bar-text">0/100</span>
                        </div>
                    </div>
                </div>
                <div id="time-display">
                    <label>ÊôÇÈñì:</label>
                    <span id="time">0:00</span>
                </div>
            </div>
            
            <!-- Route Progress UI - Hidden in simplified version -->
            <div id="route-progress" class="route-progress hidden" style="display: none;">
                <h3>üéØ „Ç¥„Éº„É´„Åæ„Åß</h3>
                <p class="distance-remaining"><span id="distance-remaining">0</span>m</p>
                <div class="route-progress-bar">
                    <div id="route-progress-fill" class="route-progress-fill"></div>
                </div>
            </div>
        </div>

        <!-- Level Up Screen -->
        <div id="levelup-screen" class="modal hidden">
            <div class="modal-content">
                <h2>LEVEL UP!</h2>
                <p>Choose a power-up:</p>
                <div id="powerup-options"></div>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameover-screen" class="modal hidden">
            <div class="modal-content">
                <h2>GAME OVER</h2>
                <p id="final-stats"></p>
                <button id="retry-button" class="game-button">RETRY</button>
                <button id="menu-button" class="game-button">MENU</button>
            </div>
        </div>

        <!-- Weapon Selection Screen -->
        <div id="weapon-selection-screen" class="modal hidden">
            <div class="modal-content">
                <h1>PIXEL APOCALYPSE</h1>
                <p class="game-description">
                    Ê≠¶Âô®„ÇíÈÅ∏Êäû„Åó„Å¶„Ç≤„Éº„É†„ÇíÈñãÂßã<br>
                    <small>„ÇØ„É™„ÉÉ„ÇØ„Åæ„Åü„ÅØ„Ç≠„Éº 1, 2, 3 „ÅßÈÅ∏Êäû</small>
                </p>
                <!-- „Ç®„Éá„Ç£„Çø„É™„É≥„ÇØ -->
                <div id="editor-link" style="text-align: center; margin-bottom: 20px;">
                    <button id="btn-open-editor" class="editor-link-btn">üé® Ê≠¶Âô®„Ç®„Éá„Ç£„Çø„ÇíÈñã„Åè</button>
                </div>
                <div id="weapon-options">
                    <!-- Weapon options will be inserted here -->
                </div>
            </div>
        </div>


    </div>

    <!-- „Ç≥„Ç¢„Ç∑„Çπ„ÉÜ„É†ÔºàPR #1„ÅßËøΩÂä†Ôºâ -->
    <script src="core/registry.js"></script>
    <script src="core/base/weapon-base.js"></script>
    <script src="core/base/character-base.js"></script>
    <script src="core/base/enemy-base.js"></script>
    <script src="core/base/map-base.js"></script>
    
    <!-- „Ç´„Çπ„Çø„É†Ê≠¶Âô®„É≠„Éº„ÉÄ„Éº -->
    <script src="core/custom-weapon-loader.js"></script>
    
    <!-- „É¨„É≥„ÉÄ„É™„É≥„Ç∞„Ç∑„Çπ„ÉÜ„É†ÔºàPR #1„ÅßËøΩÂä†Ôºâ -->
    <script src="core/rendering/perlin-noise.js"></script>
    <script src="core/rendering/texture-generator.js"></script>
    
    <!-- „Ç´„É°„É©„Ç∑„Çπ„ÉÜ„É†ÔºàPR #2„ÅßËøΩÂä†Ôºâ -->
    <script src="camera.js"></script>
    
    <!-- „Ç®„Éá„Ç£„Çø„Éº„Ç∑„Çπ„ÉÜ„É†ÔºàPhase 5„ÅßËøΩÂä†Ôºâ -->
    <script src="core/editor/editor.js"></script>
    <script src="core/editor/pixel-art-editor.js"></script>
    
    <!-- Debug utilities -->
    <script src="core/utils/debug.js"></script>
    
    <!-- Êñ∞„Åó„ÅÑ„Éû„ÉÉ„Éó„Ç∑„Çπ„ÉÜ„É† -->
    <script src="core/map/map-loader.js"></script>
    <script src="core/map/tileset-renderer.js"></script>
    <script src="core/map/biome-manager.js"></script>
    <script src="core/map/collision-system.js"></script>
    <script src="core/map/object-spawner.js"></script>
    <script src="core/map/map-system.js"></script>
    <script src="core/map/map-layer-system.js"></script>
    
    <!-- „Éó„É©„Ç∞„Ç§„É≥ÔºàPR #2„ÅßËøΩÂä†Ôºâ -->
    <script src="plugins/weapons/sword.js"></script>
    <script src="plugins/weapons/boomerang.js"></script>
    <script src="plugins/weapons/magic.js"></script>
    <script src="plugins/weapons/fireball.js"></script>
    <script src="plugins/weapons/knife.js"></script>
    <script src="plugins/weapons/lightning.js"></script>
    <script src="plugins/characters/stick-figure.js"></script>
    <script src="plugins/enemies/basic-zombie.js"></script>
    <script src="plugins/maps/default-map.js"></script>
    
    <!-- Load game script -->
    <script src="game.js"></script>
</body>
</html>
